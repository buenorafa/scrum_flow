{% extends "base.html" %} {% block title %}{{ sprint.name }} - Scrum Flow
{%endblock %} {% block content %}

<div class="container mt-4">
  <nav aria-label="breadcrumb">
    <ol class="breadcrumb">
      <li class="breadcrumb-item">
        <a href="{% url 'project_detail' project.pk %}">{{ project.name }}</a>
      </li>
      <li class="breadcrumb-item">
        <a href="{% url 'sprint_list' project.id %}">Sprints</a>
      </li>
      <li class="breadcrumb-item active" aria-current="page">
        {{ sprint.name }}
      </li>
    </ol>
  </nav>

  <div class="d-flex justify-content-between align-items-center mb-3">
    <h3 class="mb-0">
      <i class="bi bi-kanban"></i> {{ sprint.name }}
      <span
        class="badge {% if sprint.status == 'PLANNING' %} bg-warning text-dark {% elif sprint.status == 'ACTIVE' %} bg-primary {% elif sprint.status == 'CLOSED' %} bg-secondary {% else %} bg-light text-dark {% endif %}"
      >
        {{ sprint.get_status_display }}
      </span>
    </h3>

    <div class="d-flex gap-2">
      <a
        href="{% url 'sprint_list' project.id %}"
        class="btn btn-outline-secondary"
      >
        <i class="bi bi-arrow-left"></i> Voltar
      </a>

      {% if can_manage %}
      <a href="{% url 'sprint_update' sprint.id %}" class="btn btn-primary">
        <i class="bi bi-pencil"></i> Editar
      </a>

      {% if sprint.status != 'CLOSED' %}
      <form method="post" action="{% url 'sprint_close' sprint.id %}">
        {% csrf_token %}
        <button type="submit" class="btn btn-outline-danger">
          <i class="bi bi-check2-circle"></i> Encerrar
        </button>
      </form>
      {% endif %} {% endif %}
    </div>
  </div>

  <div class="card shadow-sm">
    <div class="card-body">
      <p>
        <strong>Descrição:</strong>
        {%if sprint.description %} {{sprint.description}} {%else%}
        <span class="text-muted fst-italic">Sem descrição</span>{%endif%}
      </p>
      <p><strong>Início:</strong> {{ sprint.start_date }}</p>
      <p><strong>Fim:</strong> {{ sprint.end_date }}</p>
      <p><strong>Criada em:</strong> {{ sprint.created_at }}</p>
    </div>
  </div>
</div>

{% endblock %}
